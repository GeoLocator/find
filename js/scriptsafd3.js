function addClassIf(e,a,r){e?a.addClass(r):a.removeClass(r)}function setupIntlTelInput(e){for(var a=0;a<e.length;a++)!function(e){var a=document.getElementById(e);if(a){var r=window.intlTelInput(a,{utilsScript:document.location.origin+"/js/intl-tel-input/utils.js",separateDialCode:!0,preferredCountries:["fr","de","es","be","nl","ch","us","gb"],initialCountry:lang||"fr"});vars[e]=r,a.addEventListener("countrychange",function(){var e=r.getSelectedCountryData();if("object"==typeof e){var o=e.iso2.toUpperCase();a.value=window.libphonenumber.formatIncompletePhoneNumber(a.value,o)}}),a.addEventListener("blur",function(){var e=r.getSelectedCountryData();if("object"==typeof e){var o=e.iso2.toUpperCase();a.value=window.libphonenumber.formatIncompletePhoneNumber(a.value,o)}})}}(e[a])}function openModal(e,a){e&&e.length&&null!==window.currentModal&&window.currentModal!==e&&closeModal(window.currentModal,!0);var r=$('.modal[data-modal="'+e+'"]');0!==r.length&&(a&&$(a.target).parents(".modal").length&&closeModal($(a.target).parents(".modal").data("modal"),!0),isMobile?r.fadeIn():($(".modal-overlay").stop().fadeIn(),r.css({display:"block",opacity:0,top:"40%",maxHeight:"calc(100vh - "+r.outerHeight()/4+"px)"}),r.css({marginTop:-r.outerHeight()/2}),r.animate({opacity:1,top:"50%"},300)),window.currentModal=e)}function closeModal(e,a){if(e){var r=$('.modal[data-modal="'+e+'"]');$(".modal-overlay").stop().fadeOut()}else r=$(".modal");r.each(function(){$(this).hasClass("unclosable")&&!a||(isMobile?$(this).fadeOut():$(this).stop().animate({opacity:0,top:"40%"},300,function(){$(this).hide()}))})}function formValidation(form_trigger){if(form_name=form_trigger.data("form-id"),form_trigger.parents(".content-modal").find(".invalid-feedback").remove(),1!=eval("validate"+form_name+"()")){errors=eval("validate"+form_name+"()");for(var i=0;i<errors.length;i++)displayFormError(errors[i].elem,errors[i].message.replace(":attribute",$('label[for="'+errors[i].elem.attr("id")+'"]').text()).replace(":min",errors[i].elem.attr("minlength")));return!1}return!0}function displayFormError(e,a){$('<span class="invalid-feedback error-'+e.attr("id")+'" role="alert"><strong>'+a+"</strong></span>").insertAfter(e).show(),$(".modal:visible").length>0&&setModalCenter($(".modal:visible"))}function ajaxCall(e,a,r,o){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:a,url:"/"+lang+e,data:r,success:function(e){if($(".modal").removeClass("loading"),lock_ajax=!1,null==o)return e;ajaxSuccess(e,o)},error:function(e,a){if($(".modal").removeClass("loading"),lock_ajax=!1,null==o)return data;ajaxError(e,o)}})}function ajaxSuccess(data,callback){eval("response"+callback+"("+JSON.stringify(data)+")")}function ajaxError(data,callback){eval("response"+callback+"("+JSON.stringify(data)+")")}function getUrlParameter(e){var a,r,o=window.location.search.substring(1).split("&");for(r=0;r<o.length;r++)if((a=o[r].split("="))[0]===e)return void 0===a[1]||decodeURIComponent(a[1])}function setupLocalizeNumber(e,a){e=window.libphonenumber.parsePhoneNumberFromString(e).formatInternational(),$("#localize-modal").find(".phone-number").attr("data-phone-number",e),$("#localize-modal").find(".phone-number").attr("data-country-code",a),$("#localize-modal").find(".phone-number").text(e)}function updateTimeZone(){(new Date).getTimezoneOffset();params={timezone:timezone},ajaxCall("/users/update-timezone","POST",params,null)}function setLocalisezList(e){$(".number-list").empty(),cleanMarkers();for(var a=0;a<e.length;a++)$localize=$(".localized-numbers .template").clone(),$localize.removeClass("template"),$localize.attr("data-lat",e[a].lat),$localize.attr("data-lng",e[a].lng),$localize.find(".date").text(null!=e[a].spotted_at?setDate(e[a].spotted_at):setDate(e[a].created_at)),$localize.find(".number").text(e[a].phone_number),null!=e[a].spotted_at?($localize.find(".status.pending").remove(),null!=e[a].lat?($localize.find(".status.refused").remove(),$localize.addClass("localized")):($localize.find(".status.localized").remove(),$localize.addClass("refused")),null!=e[a].address&&$localize.find(".address").text(e[a].address)):($localize.find(".status.refused").remove(),$localize.find(".status.localized").remove()),$(".number-list").append($localize),$localize.show()}function setDate(e){const a=window.timezone||"Europe/Paris",r=new Date(e).toLocaleString("en-US",{timeZone:a});return new Date(r).toLocaleString()}function setModalCenter(e){isMobile||e.animate({marginTop:-e.outerHeight()/2,maxHeight:"calc(100vh - "+e.outerHeight()/4+"px)"},300)}function ajaxContent(e,a){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"GET",url:e,success:function(e){$(".modal").removeClass("loading"),a.find(".content-modal").append(e),setModalCenter(a)},error:function(e,a){$(".modal").removeClass("loading"),console.log(e),console.log(a)}})}function validateRegisterStep1(){return errors=[],elem=$("#new-email"),elem[0].checkValidity()||(error=null,elem.val()?isEmail(elem.val())||(error="email"):error="required",error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#new-password"),(!elem[0].checkValidity()||elem.val().length<elem.attr("minlength"))&&(error=null,elem.val()||(error="required"),elem.val().length<elem.attr("minlength")&&(error="min"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#new-email-confirm"),elem[0].checkValidity()&&confirmField(elem.val(),$("new-email").val())||(error=null,elem.val()?confirmField(elem.val(),$("#new-email").val())||(error="confirmed"):error="required",error&&errors.push({elem:elem,message:jsTrans.errors[error]})),!(errors.length>0)||errors}function validateRegisterStep2(){return errors=[],elem=$("#cgu-check"),elem.is(":checked")||errors.push({elem:elem,message:jsTrans.errors.accepted}),!(errors.length>0)||errors}function validateRegisterStep3(){return errors=[],elem=$("#card-number"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#exp-date"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#cvc"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),!(errors.length>0)||errors}function validateRegisterStep4(){return errors=[],elem=$("#first-name"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#last-name"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#address"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#zip-code"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#country"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),elem=$("#city"),elem[0].checkValidity()||(error=null,elem.val()||(error="required"),error&&errors.push({elem:elem,message:jsTrans.errors[error]})),!(errors.length>0)||errors}function validateLogin(){return errors=[],elem=$("#email"),elem[0].checkValidity()||(error=null,elem.val()?isEmail(elem.val())||(error="email"):error="required",error&&errors.push({elem:elem,message:jsTrans.errors[error]})),!(errors.length>0)||errors}function validatePhoneNumber(e,a){return errors=[],((a=a.replace(/[^\d]/g,"")).length<9||a.length>20||isNaN(a))&&errors.push({elem:e,message:jsTrans.errors.phone}),!(errors.length>0)||errors}function validateLocalize(){return errors=[],full_number="+"+vars["feedback-phone-number"].getSelectedCountryData().dialCode+" "+$("#feedback-phone-number").val(),validatePhoneNumber($("#feedback-phone-number-sent"),full_number),errors.length>0?errors:($("#feedback-phone-number-sent").attr("data-feedback-phone-number",window.libphonenumber.parsePhoneNumberFromString(full_number).formatInternational()),!0)}function validateUnsubscribe(){return errors=[],elem=$("#email-unsub"),elem[0].checkValidity()||(error=null,elem.val()?isEmail(elem.val())||(error="email"):error="required",error&&errors.push({elem:elem,message:jsTrans.errors[error]})),$("body").hasClass("guest")&&"undefined"!=typeof grecaptcha&&!grecaptcha.getResponse()&&errors.push({elem:$(".g-recaptcha"),message:jsTrans.errors.captcha}),!(errors.length>0)||errors}function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function confirmField(e,a){return e===a}window.currentModal=null;const defaultFieldSelector="#card-number",hipayErrorMapping={ERROR_CARD_HOLDER_MISSING:"#card-holder",ERROR_CARD_NUMBER_INVALID:"#card-number",ERROR_EXPIRY_DATE_INVALID:"#exp-date",ERROR_EXPIRY_YEAR_INVALID:"#exp-date",ERROR_EXPIRY_YEAR_PAST_DATE:"#exp-date",ERROR_EXPIRY_DATE_PAST_DATE:"#exp-date",ERROR_EXPIRY_MONTH_INVALID:"#exp-date",ERROR_CARD_CVC_MISSING:"#cvc",ERROR_CARD_CVC_INVALID:"#cvc"};function ajaxRegisterStep1(){form=$("#register"),params={email:form.find("input#new-email").val()},ajaxCall("/email-check","POST",params,"RegisterStep1")}function responseRegisterStep1(e){"ok"===e.response?(closeModal("register-step-1",null),openModal("register-step-2")):(displayFormError($("#new-email"),jsTrans.errors.unique.replace(":attribute",$("#new-email").attr("name"))),console.log(e))}function ajaxRegisterStep3(){form=$("#register"),params={email:form.find("input#new-email").val(),email_confirmation:form.find("input#new-email-confirm").val(),password:form.find("input#new-password").val(),cgu:form.find("input#cgu-check").is(":checked")},ajaxCall("/register","POST",params,"RegisterStep3")}function responseRegisterStep3(e){e.data?($(".modal").addClass("loading"),lock_ajax=!0,hipay.tokenize({cardHolder:form.find("input#card-holder").val(),cardNumber:form.find("input#card-number-send").val(),expiryMonth:form.find("input#exp-date").val().split("/")[0],expiryYear:form.find("input#exp-date").val().split("/")[1],cvc:form.find("input#cvc").val(),multiUse:!0}).then(function(e){ajaxCall("/hipay-payment","POST",e,"Paiment")}).catch(function(e){$(".modal").removeClass("loading");const a=hipayErrorMapping[e]||defaultFieldSelector;displayFormError($(a),jsTrans.errors.hipay[e]||jsTrans.errors.card)}).finally(function(){lock_ajax=!1})):displayFormError($(defaultFieldSelector),jsTrans.errors.card)}function responsePaiment(e){if(e.data){if(gtag("event","conversion",{send_to:"AW-689256580/KnELCPWyjLYBEITx1MgC",transaction_id:""}),void 0!==window.AeTracker&&void 0!==window._ae){var a={key:"5f5f9b7330adac2649a3c6e6-5f5f9a0230adac2649a3c6de",Conversion:{}};a.Conversion.id=Date.now().toString(),a.Conversion.amount="12",a.Conversion.payment="online",window.AeTracker.sendConversion(a)}closeModal("register-step-3",!0),openModal("paiment-success")}else e.redirect?window.location.replace(e.redirect):(displayFormError($(defaultFieldSelector),jsTrans.errors.card),console.log(e))}function ajaxRegisterStep4(){form=$("#update-user-address"),params={first_name:form.find("input#first-name").val(),last_name:form.find("input#last-name").val(),address:form.find("input#address").val(),city:form.find("input#city").val(),zip_code:form.find("input#zip-code").val(),country:form.find("input#country").val(),is_billing_address:1},ajaxCall("/users/update-address","POST",params,"RegisterStep4")}function responseRegisterStep4(e){e.data?(closeModal("register-step-4",null),replace_url="/dashboard?payment=success",modal=$("#register-step-4-modal"),null!=modal.data("localize-number")&&(replace_url+="&localize="+modal.data("localize-number")+"&countryCode="+modal.data("country-code")),window.location.replace(replace_url)):console.log(e)}function ajaxLogin(){form=$("#login"),params={email:form.find("input#email").val(),password:form.find("input#password").val(),timezone:timezone},ajaxCall("/login","POST",params,"Login")}function responseLogin(e){e.data?(closeModal("login",null),window.location.replace("/dashboard")):(displayFormError($("#email"),jsTrans.auth.failed.replace(":attribute",$("#email").attr("name"))),console.log(e))}function submitLocalize(){return $('#localize span[data-form-id="Localize"]').trigger("click"),!1}function ajaxLocalize(){form=$("#localize-modal"),params={phone_number:form.find(".phone-number").attr("data-phone-number"),phonefield_country:form.find(".phone-number").attr("data-country-code"),feedback_phone_number:form.find("#feedback-phone-number-sent").attr("data-feedback-phone-number"),feedback_phonefield_country:vars["feedback-phone-number"].getSelectedCountryData().iso2,message:form.find("#message").attr("data-lang-key")},console.log(params),ajaxCall("/dashboard/localize","POST",params,"Localize")}function responseLocalize(e){e.data?(closeModal("localize",null),openModal("localize-success"),updateTimeZone(),ajaxLocalizes()):(displayFormError($("#feedback-phone-number-sent"),jsTrans.errors.phone.replace(":attribute","phone")),console.log(e))}function ajaxLocalizeFriend(e,a,r,o,l){params={lat:e,lng:a,address:r,token:o,feedback_locale:l},ajaxCall("/localize-friend","POST",params,"LocalizeFriend")}function responseLocalizeFriend(e){$("#localize-friend .card").removeClass("loading"),lock_ajax=!1,"ok"==e.response?($("#localize-friend .success").show(),$("#localize-friend .error").remove()):($("#localize-friend .error").show(),$("#localize-friend .success").remove(),console.log(e))}function ajaxLocalizeFriendRefused(e,a){params={token:e,feedback_locale:a},ajaxCall("/localize-friend/refused","POST",params,null)}function ajaxUnsubscribe(){params={email:$("#email-unsub").val()},$("body").hasClass("guest")&&"undefined"!=typeof grecaptcha&&(params["g-recaptcha-response"]=grecaptcha.getResponse(),params.unauthenticated=1),ajaxCall("/users/unsubscribe","POST",params,"Unsubscribe")}function responseUnsubscribe(e){e&&"ok"==e.response?(closeModal("unsubscribe",null),openModal("unsubscribe-success")):(displayFormError($("#email-unsub"),e.responseJSON.errors.email[0].replace(":attribute","email")),console.log(e))}function ajaxLocalizes(){$(".localized-numbers").addClass("loading"),lock_ajax=!0,ajaxCall("/dashboard/localizes","GET",[],"Localizes")}function responseLocalizes(e){$(".localized-numbers").removeClass("loading"),lock_ajax=!1,e.data?setLocalisezList(e.data):(alert("something went wrong"),console.log(e))}var vars={},isMobile=lock_ajax=recaptcha=!1,timezone,hipay;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|iPhone|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))||window.innerWidth<=760)&&(isMobile=!0),document.addEventListener("DOMContentLoaded",function(){if("undefined"!=typeof lang)var current_lang=lang.toLowerCase();else var current_lang="fr";hipay=HiPay({username:document.head.querySelector('meta[name="hipay-username"]').content,password:document.head.querySelector('meta[name="hipay-password"]').content,environment:document.head.querySelector('meta[name="hipay-env"]').content,lang:current_lang}),window.location.pathname=="/"+lang+"/dashboard"&&null!=getUrlParameter("localize")&&(setupLocalizeNumber(getUrlParameter("localize"),getUrlParameter("countryCode")),openModal("localize")),window.location.pathname=="/"+lang&&(null!=getUrlParameter("unsubscribe")&&openModal("unsubscribe"),null!=getUrlParameter("login")&&openModal("login")),setupIntlTelInput(["intl-tel-landing","intl-tel-footer","feedback-phone-number","intl-tel-map"]),$("body").on("click",".modal-trigger",function(e){return $(this).data("modal-ajax-content")&&(modal=$('.modal[data-modal="'+$(this).data("modal-link")+'"]'),0==modal.find(".content-modal").children().length&&(modal.addClass("loading"),ajaxContent($(this).data("modal-ajax-content"),modal))),!($(this).data("form-id")&&!formValidation($(this)))&&($(this).data("modal-ajax")?(lock_ajax||(lock_ajax=!0,$(this).parents(".modal").addClass("loading"),e.stopPropagation(),e.preventDefault(),eval("ajax"+$(this).data("form-id")+"()")),!1):"close"==$(this).data("modal-link")?(closeModal($(this).parents(".modal").data("modal"),null),!1):void openModal($(this).data("modal-link"),e))}),$("body").on("click",".modal-close",function(){closeModal($(this).data("modal-link"),null),0==$(".modal.unclosable:visible").length&&$(".modal-overlay").stop().fadeOut()}),$("body").on("click",".modal-overlay",function(){closeModal(null,null),0==$(".modal.unclosable:visible").length&&$(".modal-overlay").stop().fadeOut()}),$("body").on("keypress change","#card-number",function(){$(this).val(function(e,a){return a.replace(/\W/gi,"").replace(/(.{4})/g,"$1 ").trim()}),$("#card-number-send").val($(this).val().replace(/\W/gi,""))}),$("body").on("click",".navbar-toggler",function(){$(".navbar-collapse").stop().fadeToggle("fast"),$("#dashboard-menu").length>0&&$("#dashboard-menu").stop().fadeToggle("fast")}),$("body").on("keyup change","#exp-date",function(e){2===$(this).val().length&&8!=e.which&&$(this).val($(this).val()+"/")}),$("body").on("submit","#localize-form",function(e){e.preventDefault(),e.stopPropagation();var a=$("#landing").hasClass("geo2"),r=$(this).find('input[type="tel"]'),o=$(this).find('input[type="email"]'),l=r.val(),n=vars[r.attr("id")].getSelectedCountryData().iso2,t="+"+vars[r.attr("id")].getSelectedCountryData().dialCode+" "+l;if($(this).find(".invalid-feedback").remove(),1!=validatePhoneNumber(r,t)){errors=validatePhoneNumber(r,t);for(var i=0;i<errors.length;i++)displayFormError(errors[i].elem,errors[i].message.replace(":attribute",errors[i].elem.attr("name")));return!1}if(o.length){var s=o.val();if(!isEmail(s))return!1;$("#new-email").val(s),$("#new-email-confirm").val(s),$("#new-password").val("0123456789")}$(this).hasClass("localize-guest")?($(".register-modal").addClass("with-localize"),$(".register-modal").attr("data-localize-number",t),$(".register-modal").attr("data-country-code",n),$(".localize-number").find(".number").text(t),a?openModal("register-step-1"):(openModal("register-step-0"),setTimeout(function(){var e=document.getElementById("location-animation");e&&($(e).closest(".content-modal").css({height:"100%"}),e.addEventListener("ended",function(){openModal("register-step-2")}),e.play())},250))):window.location.pathname!="/"+lang+"/dashboard"?window.location.replace("/dashboard?localize="+t+"&countryCode="+n):(setupLocalizeNumber(t,n),openModal("localize"))}),$("body").on("click",".localize-anchor",function(e){$("html, body").animate({scrollTop:$(".form-container").offset().top},500),$("#intl-tel-landing").focus()}),$("body").on("keyup","#account-email, #landing.geo2 .localize-input",function(e){13===e.keyCode&&$(".localize-trigger").trigger("click")}),$("body").on("click","#video-fallback-btn",function(e){e.preventDefault(),openModal("register-step-1")}),$("body").on("click",".number-item",function(){!$(this).hasClass("active")&&$(this).data("lat")&&(cleanMarkers(),$(".number-item").removeClass("active"),$(this).addClass("active"),setMapCenter($(this).data("lat"),$(this).data("lng")),setMarker($(this).data("lat"),$(this).data("lng")))}),$("body").on("click","#messages-list .dropdown-item",function(){$("#message").val($(this).text()),$("#message").attr("data-lang-key",$(this).data("lang-key")),$("#message").trigger("keyup")}),$("body").on("keyup","#message",function(){$("#max-chars").text($(this).val().length+"/"+$(this).attr("maxlength"))}),$("body").on("click",".refresh-localizes",function(){ajaxLocalizes()}),$("body").on("click",".offline-dialog .btn",function(){window.location.reload()})});
